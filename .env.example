# Environment Configuration for Media Extraction SaaS

# ====== API SECURITY ======
API_KEY=your-secret-api-key-change-this-in-production

# ====== API SERVER ======
API_PORT=8080
API_HOST=0.0.0.0
API_READ_TIMEOUT=30s
API_WRITE_TIMEOUT=30s

# ====== REDIS ======
REDIS_ADDR=localhost:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_RETRIES=3
REDIS_POOL_SIZE=10

# ====== STORAGE (S3/MinIO) ======
S3_REGION=us-east-1
S3_BUCKET=media-extraction-output
S3_PRESIGNED_EXPIRY=24h
S3_STREAM_THRESHOLD=524288000
S3_USE_PATH_STYLE=true

# For MinIO (local development):
S3_ENDPOINT=http://localhost:9000
AWS_ACCESS_KEY_ID=minioadmin
AWS_SECRET_ACCESS_KEY=minioadmin123

# For AWS S3:
# S3_ENDPOINT=
# AWS_ACCESS_KEY_ID=your_key
# AWS_SECRET_ACCESS_KEY=your_secret

# For Cloudflare R2:
# S3_ENDPOINT=https://YOUR_ACCOUNT_ID.r2.cloudflarestorage.com
# AWS_ACCESS_KEY_ID=your_token_id
# AWS_SECRET_ACCESS_KEY=your_token_secret

# ====== EXTRACTOR TOOLS ======
YTDLP_PATH=yt-dlp
FFMPEG_PATH=ffmpeg
YTDLP_TIMEOUT=10m
FFMPEG_TIMEOUT=30m
MAX_CONCURRENT_JOBS=8
TEMP_DIR=/tmp

# ====== WORKER ======
WORKER_CONCURRENCY=8
WORKER_SHUTDOWN_TIMEOUT=30s
JOB_MAX_RETRIES=3
JOB_RETRY_DELAY_BASE=5s

# ====== LOGGING ======
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=stdout
